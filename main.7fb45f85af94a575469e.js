!function(e){function t(t){for(var a,l,c=t[0],i=t[1],s=t[2],m=0,f=[];m<c.length;m++)l=c[m],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&f.push(r[l][0]),r[l]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var a={},r={1:0},o=[];function l(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=a,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)l.d(n,a,function(t){return e[t]}.bind(null,a));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;o.push([749,0,4]),n()}({573:function(e,t){},575:function(e,t){},589:function(e,t){},591:function(e,t){},619:function(e,t){},621:function(e,t){},622:function(e,t){},628:function(e,t){},630:function(e,t){},648:function(e,t){},651:function(e,t){},667:function(e,t){},670:function(e,t){},731:function(e,t){},749:function(e,t,n){"use strict";n.r(t),n(10),n(108),n(320),n(544);var a,r,o,l=n(0),c=n.n(l),i=n(132),s=n(2),u=n(7),m=n(68),f=n(316),p=n.n(f),d=n(313),h=n(81),b="AUTH_START",v="AUTH_SUCCESS",g="AUTH_ERROR",y="RESET_AUTH_STATE",E="SET_ACCOUNT_INFO",w="UPDATE_INFO_START",N="UPDATE_INFO_SUCCESS",k="UPDATE_INFO_ERROR",x="RESET_UPDATE_INFO_STATE",O="RESET_ACCOUNT_STATE",S=n(182),j=function(){function e(){this.ACCESS_TOKEN="token"}return e.prototype.setToken=function(e){e&&localStorage.setItem(this.ACCESS_TOKEN,e)},e.prototype.getToken=function(){return localStorage.getItem(this.ACCESS_TOKEN)},e.prototype.removeToken=function(){localStorage.removeItem(this.ACCESS_TOKEN)},e}(),P=(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultHeader=function(){return{}},t.getAuthHeader=function(){return{Authorization:"Bearer "+t.getToken()}},t}return P(t,e),t.prototype.isValidToken=function(){return this._verifyJWTToken().isTokenValid},t.prototype.isAuthenticated=function(){return this._verifyJWTToken().isTokenValid},t.prototype.isCurrentUser=function(e){var t=this.getUserInfo();return!!t&&e===t.uid},t.prototype.userRole=function(){var e=this.getUserInfo();return e?e.role:void 0},t.prototype.getUserInfo=function(){var e=this._verifyJWTToken(),t=e.isTokenValid,n=e.token;return t?S.decode(n).data:null},t.prototype._verifyJWTToken=function(){var e=this.getToken(),t=S.decode(e);return t||this.removeToken(),{isTokenValid:t,token:e}},t}(j),F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),T={JWT:L,__default__:L},_=function(e){function t(t){return void 0===t&&(t="JWT"),e.call(this,t)||this}return F(t,e),t.prototype.defaultHeader=function(){if(e.prototype.defaultHeader)return e.prototype.defaultHeader.call(this)},t.prototype.getAuthHeader=function(){if(e.prototype.getAuthHeader)return e.prototype.getAuthHeader.call(this)},t.prototype.isValidToken=function(){if(e.prototype.isValidToken)return e.prototype.isValidToken.call(this)},t.prototype.setAuthHeader=function(e){if(this.getToken()){if(!this.isValidToken())return this.handleRefreshToken(e);Object.assign(e.headers,this.getAuthHeader())}return e},t.prototype.handleRefreshToken=function(e){return null},t}((function e(t){var n=T[t];Object.setPrototypeOf(e.prototype,new n)})),I="auth",C="users",A="posts",R="friends",U={auth:{index:""+I,login:I+"/login",loginGoogle:I+"/google",loginFacebook:I+"/facebook",loginGithub:I+"/github"},users:{index:""+C,login:C+"/login",logout:C+"/logout",register:C+"/register",userMe:C+"/me",resetPassword:C+"/reset-password",changePassword:C+"/change-password"},posts:{index:""+A,public:A+"/public",recommend:A+"/recommend",draft:A+"/draft",recyclebin:A+"/recyclebin"},signatures:{index:"signatures"},friends:{index:""+R,follow:R+"/follow"},bookmarks:{index:"bookmarks"}},B=(n(208),n(54)),D=n.n(B),G=function(){return(G=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},H=function(){function e(){this.authHelper=new _,this.axiosInstance=D.a.create({baseURL:"https://vast-lowlands-08945.herokuapp.com/api/v1/",headers:G({"Content-Type":"application/json"},this.authHelper.defaultHeader())}),this._setInterceptors()}return e.prototype.createURL=function(e){var t;if("string"!=typeof e[e.length-1]){t=e.pop();var n=e.join("/");return Object.keys(t).forEach((function(e){n=n.replace(":"+e,t[e])})),n}return e.join("/")},e.prototype.get=function(e,t,n){var a=this;return void 0===t&&(t={}),void 0===n&&(n={}),new Promise((function(r,o){var l=a.axiosInstance.get(a.createURL(e),G({params:t},n));a._handleRespond(l,r,o)}))},e.prototype.post=function(e,t,n){var a=this;return void 0===t&&(t={}),void 0===n&&(n={}),new Promise((function(r,o){var l=a.axiosInstance.post(a.createURL(e),t,n);a._handleRespond(l,r,o)}))},e.prototype.put=function(e,t,n){var a=this;return void 0===t&&(t={}),void 0===n&&(n={}),new Promise((function(r,o){var l=a.axiosInstance.put(a.createURL(e),t,n);a._handleRespond(l,r,o)}))},e.prototype.delete=function(e,t){var n=this;return void 0===t&&(t={}),new Promise((function(a,r){var o=n.axiosInstance.delete(n.createURL(e),t);n._handleRespond(o,a,r)}))},e.prototype.multipeGets=function(e){var t=this,n=e.map((function(e){return t.axiosInstance.get(e)}));return new Promise((function(e,t){D.a.all(n).then((function(t){e(t.map((function(e){return e.data})))})).catch((function(e){return t(e)}))}))},e.prototype._handleRespond=function(e,t,n){return e.then((function(e){t(e.data)})).catch((function(e){n(e)}))},e.prototype._setInterceptors=function(){var e=this;this.axiosInstance.interceptors.request.use((function(t){return e.authHelper.setAuthHeader(t)})),this.axiosInstance.interceptors.response.use((function(e){return e}),(function(t){return e._handleError(t)}))},e.prototype._handleError=function(e){return function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(t){return e.isAxiosError&&e.response?[2,Promise.reject(e)]:[2,Promise.reject({})]}))}))},e}(),z=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),q=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},M=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},V=function(e){function t(){var t=e.call(this)||this;return t.http=new H,t}return z(t,e),t.prototype.getPersonalInfo=function(){return q(this,void 0,void 0,(function(){var e,t;return M(this,(function(n){switch(n.label){case 0:return[4,this.http.get([U.users.userMe])];case 1:return delete(e=n.sent()).email,delete e.id,delete e.isActive,delete e.isAdmin,delete e.verifyAt,delete e.createdAt,delete e.updatedAt,delete e.followers,delete e.followings,delete e.isFollowed,delete e.picture,t=function(){return Date.now().toString()},e.phone=e.phone||"0909090900",e.displayName=e.displayName||"user"+t(),e.gender=e.gender||"male",e.dob=e.dob||"1999-01-01",[2,this.http.put([U.users.userMe],e)]}}))}))},t.prototype.updatePassword=function(e){return q(this,void 0,void 0,(function(){return M(this,(function(t){return[2,this.http.put([U.users.changePassword],e)]}))}))},t.prototype.updatePersonalInfo=function(e){return q(this,void 0,void 0,(function(){return M(this,(function(t){return[2,this.http.put([U.users.userMe],e)]}))}))},t.prototype.getSignatures=function(e){return q(this,void 0,void 0,(function(){return M(this,(function(t){return[2,this.http.get([U.signatures.index],e)]}))}))},t.prototype.uploadImage=function(e){return q(this,void 0,void 0,(function(){var t;return M(this,(function(n){return t={headers:{Authorization:"not-set","Content-Type":"image/png"},baseURL:null},[2,this.http.put([e.url],e.picture,t)]}))}))},t}(_),J=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},W=new V,Z=D.a.create({headers:{"Content-Type":"application/json"}}),$=function(){return($=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},K=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},Y=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Q=new V,X=function(e){return function(t){return K(void 0,void 0,void 0,(function(){var n,a;return Y(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t(te()),[4,Q.updatePersonalInfo(e)];case 1:return n=r.sent(),t(ne(n)),t(re()),[3,3];case 2:return a=r.sent(),t(ae(a.response.data)),t(re()),[3,3];case 3:return[2]}}))}))}},ee=function(e){return{type:E,payload:e}},te=function(){return{type:w}},ne=function(e){return{type:N,payload:e}},ae=function(e){return{type:k,payload:e}},re=function(){return{type:x}},oe=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),le=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},ce=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},ie=function(e){function t(){var t=e.call(this)||this;return t.http=new H,t}return oe(t,e),t.prototype.signIn=function(e){return le(this,void 0,void 0,(function(){return ce(this,(function(t){return[2,this.http.post([U.users.login],e)]}))}))},t.prototype.register=function(e){return le(this,void 0,void 0,(function(){return ce(this,(function(t){return[2,this.http.post([U.users.register],e)]}))}))},t}(_),se=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},ue=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},me=new ie,fe=new V,pe=function(){return function(e){return se(void 0,void 0,void 0,(function(){return ue(this,(function(t){try{e(de()),me.removeToken(),e({type:O}),e(ve())}catch(e){console.log(e)}return[2]}))}))}},de=function(){return{type:b}},he=function(e){return{type:v,payload:e}},be=function(e){return{type:g,payload:e}},ve=function(){return{type:y}},ge=function(){var e,t,n,a,r=Object(u.useSelector)((function(e){return e.accountReducer})),o=Object(u.useSelector)((function(e){return e.authReducer})),i=Object(l.useRef)(),m=Object(u.useDispatch)(),f="@"+((null===(e=r.data)||void 0===e?void 0:e.displayName)||(null===(t=r.data)||void 0===t?void 0:t.firstName)),p=Object(l.useState)(!1),d=p[0],h=p[1],b=function(){h((function(e){return!e}))};return Object(l.useEffect)((function(){var e=function(e){d&&i.current&&!i.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[d]),c.a.createElement("div",{className:"nav-actions-list"},c.a.createElement(s.Link,{className:"btn btn-primary",to:"post/new-post"},"New Post"),c.a.createElement("div",{ref:i},c.a.createElement("button",{className:"btn btn-profile",onClick:b},c.a.createElement("div",{className:"profile-img-box"},c.a.createElement("img",{className:"profile-img",src:(null===(n=r.data)||void 0===n?void 0:n.picture)||"../../../../assets/images/default-user-picture.jpeg",alt:null===(a=r.data)||void 0===a?void 0:a.displayName}))),d&&c.a.createElement("ul",{className:"nav-actions-dropdown"},c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement("button",{className:"btn btn-dropdown",onClick:b},c.a.createElement(s.Link,{className:"nav-actions-link",to:"profile/me"},f))),c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement("button",{className:"btn btn-dropdown",onClick:b},c.a.createElement(s.Link,{className:"nav-actions-link",to:"account/info"},"Change Profile"))),c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement("button",{className:"btn btn-dropdown",onClick:b},c.a.createElement(s.Link,{className:"nav-actions-link",to:"draft"},"My Draft"))),c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement("button",{className:"btn btn-dropdown",onClick:b},c.a.createElement(s.Link,{className:"nav-actions-link",to:"bookmarks"},"My Bookmark"))),c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement("button",{className:"btn btn-dropdown",onClick:b},c.a.createElement(s.Link,{className:"nav-actions-link",to:"recyclebin"},"Recyclebin"))),c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement("button",{className:"btn btn-dropdown nav-actions-link",onClick:function(){m(pe())},disabled:o.isLoading},"Log Out")))))},ye=function(){var e=Object(u.useSelector)((function(e){return e.authReducer}));return c.a.createElement("header",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"nav-container"},c.a.createElement("h1",null,c.a.createElement(s.Link,{className:"nav-logo",to:"/"},c.a.createElement("img",{className:"nav-logo-img pc-only",src:"../../../../assets/icons/logo-text.svg",alt:"BlogBook"}),c.a.createElement("img",{className:"nav-logo-img sp-only",src:"../../../../assets/icons/logo.svg",alt:"BlogBook"}))),c.a.createElement("nav",{className:"nav"},c.a.createElement("ul",{className:"nav-list"},c.a.createElement("li",{className:"nav-item"},c.a.createElement(h.HashLink,{className:"nav-link",smooth:!0,to:"/#top"},"Home")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(h.HashLink,{className:"nav-link",smooth:!0,to:"/#featured"},"Featured Posts")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(h.HashLink,{className:"nav-link",smooth:!0,to:"/#post-list"},e.data?"Following":"Public Posts")))),c.a.createElement("div",{className:"nav-actions"},e.data?c.a.createElement(ge,null):c.a.createElement("ul",{className:"nav-actions-list"},c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement(s.Link,{className:"btn btn-outline",to:"/auth/register"},"Sign Up")),c.a.createElement("li",{className:"nav-actions-item"},c.a.createElement(s.Link,{className:"btn btn-primary",to:"/auth/login"},"Sign In")))))))},Ee=function(){return c.a.createElement("footer",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col col-wd-4 col-lg-6 col-md-12"},c.a.createElement(s.Link,{className:"footer-logo",to:"/"},c.a.createElement("img",{className:"footer-logo-img",src:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1636607426/logo-text_ayr5g1.svg",alt:"BlogBook"})),c.a.createElement("p",{className:"footer-about"},"BlogBook is a modern classic blog theme for Supremetech. Use this theme for company blog or personal blog."),c.a.createElement("div",{className:"footer-socials"},c.a.createElement("ul",{className:"footer-list"},c.a.createElement("li",{className:"footer-socials-item"},c.a.createElement(s.Link,{className:"footer-socials-link",to:"/"},c.a.createElement("img",{src:"../../../../assets/icons/social-twitter.svg",alt:"Twitter",className:"footer-socials-icon"}))),c.a.createElement("li",{className:"footer-socials-item"},c.a.createElement(s.Link,{className:"footer-socials-link",to:"/"},c.a.createElement("img",{src:"../../../../assets/icons/social-youtube.svg",alt:"Youtube",className:"footer-socials-icon"}))),c.a.createElement("li",{className:"footer-socials-item"},c.a.createElement(s.Link,{className:"footer-socials-link",to:"/"},c.a.createElement("img",{src:"../../../../assets/icons/social-github.svg",alt:"Github",className:"footer-socials-icon"}))),c.a.createElement("li",{className:"footer-socials-item"},c.a.createElement(s.Link,{className:"footer-socials-link",to:"/"},c.a.createElement("img",{src:"../../../../assets/icons/social-linkedin.svg",alt:"Linkedin",className:"footer-socials-icon"})))))),c.a.createElement("div",{className:"col col-wd-8 col-lg-6 col-md-12"},c.a.createElement("ul",{className:"row footer-list"},c.a.createElement("li",{className:"col col-lg-4 col-sm-12"},c.a.createElement("h4",{className:"list-group-title"},"Blogs"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"#",className:"list-group-link"},"New Posts")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"#",className:"list-group-link"},"Featured Members")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"#",className:"list-group-link"},"Featured Posts")))),c.a.createElement("li",{className:"col col-lg-4 col-sm-12"},c.a.createElement("h4",{className:"list-group-title"},"About"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"#",className:"list-group-link"},"Our Company")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"#",className:"list-group-link"},"Careers")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"#",className:"list-group-link"},"Contact Us")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"#",className:"list-group-link"},"Management Team")))),c.a.createElement("li",{className:"col col-lg-4 col-sm-12"},c.a.createElement("h4",{className:"list-group-title"},"Contact"),c.a.createElement("ul",{className:"list-group"},c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"mailto:hr@supremetech.vn",className:"list-group-link"},"hr@supremetech.vn")),c.a.createElement("li",{className:"list-group-item"},c.a.createElement(s.Link,{to:"tel:0394123456",className:"list-group-link"},"+84 394 123 456")))))))),c.a.createElement("p",{className:"footer-copyright"},"© 2021 BlogBook - All right Reserved. Published by Supremetech"))},we=function(e){return e.map((function(e,t){e.redirect&&!e.element&&(e.element=function(){return c.a.createElement(s.Navigate,{to:e.redirect})});var n=function(e){return function(t){return localStorage.getItem("token")?c.a.createElement(e,null):c.a.createElement(s.Navigate,{to:"/auth/login"})}}(e.element);return c.a.createElement(s.Route,{key:t,path:e.path,element:e.isProtected?c.a.createElement(n,null):c.a.createElement(e.element,null)},e.children&&we(e.children))}))},Ne=function(e){var t=e.routes;return Object(u.useSelector)((function(e){return e.authReducer})),c.a.createElement(s.Routes,null,we(t))},ke=n(41),xe=function(e){return c.a.createElement("button",{className:e.classBtn,disabled:e.loading,onClick:e.handleFunction,type:e.type},e.loading?c.a.createElement("img",{src:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fgifimage.net%2Fwp-content%2Fuploads%2F2017%2F09%2Fajax-loading-gif-transparent-background-8.gif&f=1&nofb=1",alt:"loading",className:"loading-indicator"}):e.children)},Oe=function(){return(Oe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},je=n(11),Pe=[{path:"/auth",element:function(){var e;return(null===(e=Object(u.useSelector)((function(e){return e.authReducer})).data)||void 0===e?void 0:e.userInfo)?c.a.createElement(je.Navigate,{to:"/"}):c.a.createElement("div",{className:"auth-page"},c.a.createElement("div",{className:"container"},c.a.createElement(s.Outlet,null)))},children:[{path:"/",redirect:"login"},{path:"/login",element:function(){var e=Object(u.useDispatch)(),t=Object(u.useSelector)((function(e){return e.authReducer})),n=Object(ke.useForm)(),a=n.register,r=n.handleSubmit,o=n.formState.errors;return c.a.createElement("div",{className:"auth auth-login"},c.a.createElement("div",{className:"auth-heading"},c.a.createElement("img",{className:"auth-logo",src:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1636519398/logo_ufcwmt.svg",alt:"Blog"}),c.a.createElement("h2",null,"Sign in to continue")),c.a.createElement("form",{className:"form form-login form-outline",onSubmit:r((function(t){var n;e((n=t,function(e){return se(void 0,void 0,void 0,(function(){var t,a;return ue(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e(de()),[4,me.signIn(n)];case 1:return t=r.sent(),me.setToken(t.accessToken),e(ee(t.userInfo)),e(he(t)),[3,3];case 2:return a=r.sent(),e(be(a.response.data)),[3,3];case 3:return[2]}}))}))}))}))},c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email address"),c.a.createElement("input",Oe({className:"form-input "+(o.email?"invalid":""),id:"email",type:"text"},a("email",{required:"Please input email address",pattern:{value:/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Invalid email"}}))),o.email&&c.a.createElement("span",{className:"form-error"},o.email.message)),c.a.createElement("div",{className:"form-control"},c.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password"),c.a.createElement("input",Oe({className:"form-input "+(o.password?"invalid":""),id:"password",type:"password"},a("password",{required:"Please input your password",minLength:{value:8,message:"Password at least 8 characters"}}))),o.password&&c.a.createElement("span",{className:"form-error"},o.password.message),t.error&&c.a.createElement("span",{className:"form-error txt-center"},t.error.errors[0])),c.a.createElement("div",null,c.a.createElement(xe,{loading:t.isLoading,classBtn:"btn btn-primary btn-login"},"Sign In")),c.a.createElement("div",{className:"line"},c.a.createElement("h3",{className:"line-text"},"or")),c.a.createElement("a",{href:"https://vast-lowlands-08945.herokuapp.com/api/v1/auth/google?redirect_to="+window.location.href,className:"btn btn-login-google"},c.a.createElement("img",{className:"login-google-img",src:"/assets/icons/login-google.svg",alt:"Sign In with Google"}),"Sign In with Google")),c.a.createElement("p",{className:"auth-options"},"Don't have account?",c.a.createElement(s.Link,{to:"/auth/register"}," Create new account")))}},{path:"/register",element:function(){var e=Object(u.useSelector)((function(e){return e.authReducer})),t=Object(u.useDispatch)(),n=(Object(s.useNavigate)(),Object(ke.useForm)()),a=n.watch,r=n.register,o=n.handleSubmit,i=n.formState.errors,m=Object(l.useRef)({});return m.current=a("password",""),Object(l.useEffect)((function(){return e.data||t(ve()),function(){t(ve())}}),[]),"string"==typeof e.data?c.a.createElement(s.Navigate,{to:"/auth/login"}):c.a.createElement("div",{className:"auth auth-register"},c.a.createElement("div",{className:"auth-heading"},c.a.createElement("img",{className:"auth-logo",src:"https://res.cloudinary.com/cloudinaryassets/image/upload/v1636519398/logo_ufcwmt.svg",alt:"Blog"}),c.a.createElement("h2",null,"Create new account")),c.a.createElement("form",{className:"form form-horizontal form-outline",onSubmit:o((function(e){var n;delete e.rePassword,t((n=e,function(e){return se(void 0,void 0,void 0,(function(){var t,a;return ue(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e(de()),[4,me.register(n)];case 1:return t=r.sent(),e(he(t)),[3,3];case 2:return a=r.sent(),e(be(a.response.data)),[3,3];case 3:return[2]}}))}))}))}))},c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label"},"Name")),c.a.createElement("div",{className:"form-box form-6"},c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.firstName?"invalid":""),id:"first-name",type:"text",placeholder:"First Name"},r("firstName",{required:"Please input your first name"}))),i.firstName&&c.a.createElement("span",{className:"form-error"},i.firstName.message)),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.lastName?"invalid":""),id:"last-name",type:"text",placeholder:"Last Name"},r("lastName",{required:"Please input your last name"}))),i.lastName&&c.a.createElement("span",{className:"form-error"},i.lastName.message)))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"display-name"},"Display Name")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.displayName?"invalid":""),id:"display-name",type:"text",placeholder:"Display Name"},r("displayName",{required:"Please input display name"}))),i.displayName&&c.a.createElement("span",{className:"form-error"},i.displayName.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"phone"},"Phone Number")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.phone?"invalid":""),id:"phone",type:"tel",placeholder:"Phone Number"},r("phone",{required:"Please input your phone number",pattern:{value:/^\d+$/g,message:"Invalid phone number"}}))),i.phone&&c.a.createElement("span",{className:"form-error"},i.phone.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"dob"},"Date Of Birth")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.dob?"invalid":""),id:"dob",type:"date"},r("dob",{required:"Please input your date of birth"}))),i.dob&&c.a.createElement("span",{className:"form-error"},i.dob.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"gender"},"Gender")),c.a.createElement("div",{className:"form-box"},c.a.createElement("div",{className:"form-box form-radio"},c.a.createElement("div",null,c.a.createElement("input",Se({},r("gender",{required:"Please choose your gender"}),{type:"radio",name:"gender",value:"male",id:"male"})),c.a.createElement("label",{htmlFor:"male",className:"form-radio-label"},"Male")),c.a.createElement("div",null,c.a.createElement("input",Se({},r("gender"),{type:"radio",name:"gender",value:"female",id:"female"})),c.a.createElement("label",{htmlFor:"female",className:"form-radio-label"},"Female")),c.a.createElement("div",null,c.a.createElement("input",Se({},r("gender"),{type:"radio",name:"gender",value:"other",id:"other"})),c.a.createElement("label",{htmlFor:"other",className:"form-radio-label"},"Other"))),i.gender&&c.a.createElement("span",{className:"form-error"},i.gender.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.email?"invalid":""),id:"email",type:"text",placeholder:"Email"},r("email",{required:"Please input your email",pattern:{value:/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Invalid email"}}))),i.email&&c.a.createElement("span",{className:"form-error"},i.email.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"password"},"Password")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.password?"invalid":""),id:"password",type:"password",name:"password",placeholder:"Password"},r("password",{required:"Please input your password",minLength:{value:8,message:"Password at least 8 characters"}}))),i.password&&c.a.createElement("span",{className:"form-error"},i.password.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"re-password"},"Confirm Password")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Se({className:"form-input "+(i.rePassword?"invalid":""),id:"re-password",type:"password",placeholder:"Confirm Password"},r("rePassword",{validate:function(e){return e===m.current||"Not match password"}}))),i.rePassword&&c.a.createElement("span",{className:"form-error"},i.rePassword.message))),c.a.createElement("div",null,e.error&&c.a.createElement("span",{className:"form-error txt-center"},e.error.errors[0]),c.a.createElement(xe,{classBtn:"btn btn-primary btn-form-horizontal",loading:e.isLoading},"Create Account"))),c.a.createElement("p",{className:"auth-options"},"Have an account? ",c.a.createElement(s.Link,{to:"/auth/login"},"Login now")))}}]}],Le=Object(l.createContext)(null),Fe=function(){return(Fe=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Te=(new V,function(){var e=Object(u.useDispatch)(),t=Object(u.useSelector)((function(e){return e.accountReducer})),n=t.data,a=Object(l.useState)({preview:void 0,raw:void 0}),r=a[0],o=a[1],i=Object(l.useContext)(Le).showNotification,m=Object(ke.useForm)(),f=m.register,p=m.handleSubmit,d=m.watch,h=m.resetField,b=m.setValue,v=d("picture");return Object(l.useEffect)((function(){o(v?function(e){return!v[length]&&b("picture",e.raw),{preview:v[length]?URL.createObjectURL(v[0]):e.preview,raw:v||e.raw}}:{preview:void 0,raw:void 0})}),[v]),Object(l.useEffect)((function(){t.isSuccess&&(h("picture"),i({isSuccess:!0,message:"Update successfully !"})),t.hasError&&i({isSuccess:!1,message:t.error.errors[0]})}),[t]),c.a.createElement("div",{className:"container container-sm"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col col-lg-3 col-md-12 mb-10"},c.a.createElement("div",{className:"profile-img-box my-10 "},c.a.createElement("img",{className:"profile-img",src:r.preview||n.picture||"../../../../assets/images/default-user-picture.jpeg",alt:n.displayName}),c.a.createElement("form",{onSubmit:p((function(t){var a=Fe({},n);delete a.email,delete a.id,delete a.isActive,delete a.isAdmin,delete a.verifyAt,delete a.createdAt,delete a.updatedAt,delete a.followers,delete a.followings,delete a.isFollowed;var r,o=Fe(Fe({},a),t);e((r=o,function(e){return K(void 0,void 0,void 0,(function(){var t,n,a;return Y(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e(te()),t=null,[4,(l=r.picture[0],J(void 0,void 0,void 0,(function(){var e,t;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(n){switch(n.label){case 0:return t={type_upload:"avatar",file_name:(e=l).name,file_type:e.type},[4,W.getSignatures(t).then((function(t){return Z.put(t.signedRequest,e).then((function(){return t.url})).catch((function(e){throw e}))})).catch((function(e){}))];case 1:return[2,n.sent()]}}))}))).then((function(e){t=e}))];case 1:return o.sent(),n=$($({},r),{picture:t}),e(X(n)),[3,3];case 2:return a=o.sent(),e(ae(a.response.data)),[3,3];case 3:return[2]}var l}))}))}))}))},c.a.createElement("label",{className:"avatar-upload",htmlFor:"avatar"}),c.a.createElement("input",Fe({type:"file",name:"picture",id:"avatar"},f("picture"))),r.preview?c.a.createElement("button",{className:"submit-btn btn btn-primary",type:"submit",disabled:t.isLoading},t.isLoading?c.a.createElement("img",{src:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fgifimage.net%2Fwp-content%2Fuploads%2F2017%2F09%2Fajax-loading-gif-transparent-background-8.gif&f=1&nofb=1",alt:"loading",className:"loading-indicator"}):c.a.createElement("img",{src:"../../../../assets/icons/photo_camera.svg",alt:"camera"})):"")),c.a.createElement(s.Link,{to:"/account/update-infomation",className:"btn btn-primary personal-info-action mb-5"},"Update Infomation"),c.a.createElement(s.Link,{to:"/account/change-password",className:"btn btn-primary personal-info-action"},"Change Password")),c.a.createElement("div",{className:"col col-lg-9 col-md-12"},c.a.createElement("section",{className:"personal-info"},c.a.createElement("div",{className:"personal-info-box mb-10"},c.a.createElement("div",{className:"personal-info-detail mb-10"},c.a.createElement("h4",{className:"sub-heading txt-bold"},"Basic Infomation"),c.a.createElement("div",{className:"personal-info-detail-box"},c.a.createElement("div",{className:"info-box "},c.a.createElement("h5",{className:"info-label txt-capitalize"},"Name:"),c.a.createElement("span",{className:"info-content txt-semi"},n.firstName+" "+n.lastName)),c.a.createElement("div",{className:"info-box "},c.a.createElement("h5",{className:"info-label txt-capitalize"},"Display name:"),c.a.createElement("span",{className:"info-content txt-semi"},n.displayName)),c.a.createElement("div",{className:"info-box "},c.a.createElement("h5",{className:"info-label txt-capitalize"},"Date of birth:"),c.a.createElement("span",{className:"info-content txt-semi"},n.dob)),c.a.createElement("div",{className:"info-box "},c.a.createElement("h5",{className:"info-label txt-capitalize"},"Gender:"),c.a.createElement("span",{className:"info-content txt-semi"},n.gender)))),c.a.createElement("div",{className:"personal-info-detail mb-10"},c.a.createElement("h4",{className:"sub-heading txt-bold"},"Contact Infomation"),c.a.createElement("div",{className:"personal-info-detail-box"},c.a.createElement("div",{className:"info-box "},c.a.createElement("h5",{className:"info-label txt-capitalize"},"Phone number:"),c.a.createElement("span",{className:"info-content txt-semi"},n.phone)),c.a.createElement("div",{className:"info-box "},c.a.createElement("h5",{className:"info-label txt-capitalize"},"Email:"),c.a.createElement("span",{className:"info-content txt-semi"},n.email)))))))))}),_e=function(){return(_e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ie=new V,Ce=function(){return(Ce=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ae=function(e){var t=Object(u.useSelector)((function(e){return e.accountReducer})),n=t.data,a=Object(l.useContext)(Le).showNotification,r=Object(u.useDispatch)(),o=Object(ke.useForm)(),i=o.register,s=o.handleSubmit,m=o.setValue,f=o.getValues,p=o.formState.errors;return Object(l.useEffect)((function(){var e=f();for(var t in e)m(t,"dob"===t?n[t].split("/").reverse().join("-"):n[t])}),[]),Object(l.useEffect)((function(){t.isSuccess&&a({isSuccess:!0,message:"Update successfully !"}),t.hasError&&a({isSuccess:!1,message:t.error.errors[0]})}),[t]),t.isSuccess?c.a.createElement(je.Navigate,{to:"/account/info"}):c.a.createElement("form",{className:"form form-horizontal form-outline",onSubmit:s((function(e){return function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(t){return delete e.email,r(X(e)),[2]}))}))}))},c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label"},"Name")),c.a.createElement("div",{className:"form-box form-6"},c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Ce({className:"form-input "+(p.firstName?"invalid":""),id:"first-name",type:"text",placeholder:"First Name"},i("firstName",{required:"Please input your first name"}))),p.firstName&&c.a.createElement("span",{className:"form-error"},p.firstName.message)),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Ce({className:"form-input "+(p.lastName?"invalid":""),id:"last-name",type:"text",placeholder:"Last Name"},i("lastName",{required:"Please input your last name"}))),p.lastName&&c.a.createElement("span",{className:"form-error"},p.lastName.message)))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"display-name"},"Display Name")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Ce({className:"form-input "+(p.displayName?"invalid":""),id:"display-name",type:"text",placeholder:"Display Name"},i("displayName",{required:"Please input display name"}))),p.displayName&&c.a.createElement("span",{className:"form-error"},p.displayName.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"phone"},"Phone Number")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Ce({className:"form-input "+(p.phone?"invalid":""),id:"phone",type:"tel",placeholder:"Phone Number"},i("phone",{required:"Please input your phone number",pattern:{value:/^\d+$/g,message:"Invalid phone number"}}))),p.phone&&c.a.createElement("span",{className:"form-error"},p.phone.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"dob"},"Date Of Birth")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Ce({className:"form-input "+(p.dob?"invalid":""),id:"dob",type:"date"},i("dob",{required:"Please input your date of birth"}))),p.dob&&c.a.createElement("span",{className:"form-error"},p.dob.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"gender"},"Gender")),c.a.createElement("div",{className:"form-box"},c.a.createElement("div",{className:"form-box form-radio"},c.a.createElement("div",null,c.a.createElement("input",Ce({},i("gender",{required:"Please choose your gender"}),{type:"radio",name:"gender",value:"male",id:"male"})),c.a.createElement("label",{htmlFor:"male",className:"form-radio-label"},"Male")),c.a.createElement("div",null,c.a.createElement("input",Ce({},i("gender"),{type:"radio",name:"gender",value:"female",id:"female"})),c.a.createElement("label",{htmlFor:"female",className:"form-radio-label"},"Female")),c.a.createElement("div",null,c.a.createElement("input",Ce({},i("gender"),{type:"radio",name:"gender",value:"other",id:"other"})),c.a.createElement("label",{htmlFor:"other",className:"form-radio-label"},"Other"))),p.gender&&c.a.createElement("span",{className:"form-error"},p.gender.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"email"},"Email")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",Ce({className:"form-input "+(p.email?"invalid":""),id:"email",type:"text",placeholder:"Email"},i("email"),{disabled:!0})),p.email&&c.a.createElement("span",{className:"form-error"},p.email.message))),t.error&&t.hasError?c.a.createElement("p",{className:"txt-error txt-center"},t.error.errors[0]):"",c.a.createElement(xe,{classBtn:"btn btn-primary btn-form-horizontal",loading:t.isLoading},"Save"))},Re=[{path:"/account",element:function(){return c.a.createElement("div",{className:"account-page"},c.a.createElement("div",{className:"heading mb-10"}),c.a.createElement(je.Outlet,null))},children:[{path:"/",redirect:"info"},{path:"/info",element:Te},{path:"/change-password",element:function(){var e=Object(ke.useForm)(),t=e.watch,n=e.register,a=e.handleSubmit,r=e.formState.errors,o=Object(l.useState)(!1),i=o[0],s=o[1],u=Object(l.useState)(!1),m=u[0],f=u[1],p=Object(l.useState)(null),d=p[0],h=p[1],b=(Object(je.useNavigate)(),Object(l.useContext)(Le).showNotification),v=Object(l.useRef)({});return v.current=t("newPassword",""),Object(l.useEffect)((function(){d&&b({isSuccess:!0,message:d})}),[d]),d?c.a.createElement(je.Navigate,{to:"/account/info"}):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"sub-heading mb-2"},c.a.createElement("h2",{className:"txt-center"},"Password Change")),c.a.createElement("form",{className:"form form-horizontal form-outline",onSubmit:a((function(e){return function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(n){switch(n.label){case 0:delete e.reNewPassword,n.label=1;case 1:return n.trys.push([1,3,,4]),s(!0),f(!1),[4,Ie.updatePassword(e)];case 2:return t=n.sent(),s(!1),h(t),[3,4];case 3:return n.sent(),f(!0),s(!1),[3,4];case 4:return[2]}}))}))}))},c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"old-password"},"Old Password")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",_e({className:"form-input "+(r.oldPassword?"invalid":""),id:"old-password",type:"password",name:"oldPassword",placeholder:"Old Password"},n("oldPassword",{required:"Please input old password",minLength:{value:8,message:"Password at least 8 characters"}}))),r.oldPassword&&c.a.createElement("span",{className:"form-error"},r.oldPassword.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"new-password"},"New Password")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",_e({className:"form-input "+(r.newPassword?"invalid":""),id:"new-password",type:"password",name:"newPassword",placeholder:"New Password"},n("newPassword",{required:"Please input new password",minLength:{value:8,message:"Password at least 8 characters"}}))),r.newPassword&&c.a.createElement("span",{className:"form-error"},r.newPassword.message))),c.a.createElement("div",{className:"form-control"},c.a.createElement("div",{className:"form-label-box"},c.a.createElement("label",{className:"form-label",htmlFor:"re-new-password"},"Confirm New Password")),c.a.createElement("div",{className:"form-box"},c.a.createElement("input",_e({className:"form-input "+(r.reNewPassword?"invalid":""),id:"re-new-password",type:"password",placeholder:"Confirm New Password"},n("reNewPassword",{validate:function(e){return e===v.current||"Not match password"}}))),r.reNewPassword&&c.a.createElement("span",{className:"form-error"},r.reNewPassword.message),d&&c.a.createElement("span",{className:"mt-5"},d))),m&&c.a.createElement("span",{className:"form-error txt-center"},"Please check your password again"),c.a.createElement(xe,{classBtn:"btn btn-primary btn-form-horizontal",loading:i},"Change Password")))}},{path:"/update-infomation",element:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"sub-heading mb-2"},c.a.createElement("h2",{className:"txt-center"},"Update Information")),c.a.createElement(Ae,null))}}],isProtected:!0}],Ue=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},Be=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},De=function(){function e(){this.http=new H,this.uploadImageInSignURL=function(e,t){return D.a.put(e,t)}}return e.prototype.getFeaturedArticles=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.get([U.posts.recommend],e)]}))}))},e.prototype.getPublicArticles=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.get([U.posts.public],e)]}))}))},e.prototype.getFollowingPost=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.get([U.posts.index],e)]}))}))},e.prototype.getPost=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.get([U.posts.index+"/"+e])]}))}))},e.prototype.getRecyclebin=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.get([U.posts.recyclebin],e)]}))}))},e.prototype.restoreDeletedPost=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.put([U.posts.index+"/"+e+"/restore"])]}))}))},e.prototype.createPost=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.post([U.posts.index],e)]}))}))},e.prototype.updatePost=function(e,t){return Ue(this,void 0,void 0,(function(){return Be(this,(function(n){return[2,this.http.put([U.posts.index+"/"+t],e)]}))}))},e.prototype.deletePost=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.delete([U.posts.index+"/"+e])]}))}))},e.prototype.getDraft=function(){return Ue(this,void 0,void 0,(function(){return Be(this,(function(e){return[2,this.http.get([U.posts.draft])]}))}))},e.prototype.createDraft=function(e){return Ue(this,void 0,void 0,(function(){return Be(this,(function(t){return[2,this.http.post([U.posts.draft],e)]}))}))},e}(),Ge=function(){return c.a.createElement("section",{className:"banner"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"banner-content"},c.a.createElement("div",{className:"banner-line"}),c.a.createElement("h2",{className:"banner-content-heading"},"Amazing Theme"),c.a.createElement("p",{className:"banner-content-subheading"},"Flexible and creative. Meet the new style"),c.a.createElement("div",{className:"banner-line"}))))},He=function(e){return new Date(e).toLocaleDateString([],{year:"numeric",month:"short",day:"numeric"})},ze=function(e){return c.a.createElement(c.a.Fragment,null,0===e.tagsList.length||""===e.tagsList[0]?c.a.createElement(s.Link,{to:"#",className:"btn btn-outline btn-tag"},"general"):e.tagsList.map((function(e,t){return c.a.createElement(s.Link,{to:"#",className:"btn btn-outline btn-tag",key:t},e)})))},qe=function(e){var t=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e.item,[]);return c.a.createElement("div",{className:e.className},c.a.createElement("div",{className:"article-header"},c.a.createElement(s.Link,{to:"post/"+t.id},c.a.createElement("img",{src:t.cover,alt:t.title,className:"article-img"}))),c.a.createElement("div",{className:"article-body"},c.a.createElement("div",{className:"article-tag"},c.a.createElement(ze,{tagsList:t.tags})),c.a.createElement(s.Link,{to:"post/"+t.id,className:"article-title-text"},t.title),c.a.createElement("p",{className:"article-content"},t.description)),c.a.createElement("div",{className:"article-footer"},c.a.createElement(s.Link,{to:"profile/"+t.user.id,className:"article-author"},c.a.createElement("img",{src:t.user.picture||"/assets/images/default-user-picture.jpeg",alt:t.user.displayName,className:"author-img"})),c.a.createElement("div",{className:"article-info"},c.a.createElement(s.Link,{to:"profile/"+t.user.id,className:"article-author-name"},t.user.displayName||t.user.firstName),c.a.createElement("p",{className:"article-datetime"},"posted on ",He(t.createdAt)))))},Me=function(e){var t=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e.item,[]);return c.a.createElement("div",{className:"article-card featured-card"},c.a.createElement("div",{className:"article-header"},c.a.createElement(s.Link,{to:"post/"+t.id},c.a.createElement("img",{src:t.cover,alt:t.title,className:"article-img"}))),c.a.createElement("div",{className:"article-body"},c.a.createElement("div",{className:"article-tag"},c.a.createElement(ze,{tagsList:t.tags})),c.a.createElement(s.Link,{to:"post/"+t.id,className:"article-title-text"},t.title),c.a.createElement("p",{className:"article-datetime"},"posted on ",He(t.createdAt))))},Ve=function(e){var t=e.featuredList;return c.a.createElement("div",{className:"row"},c.a.createElement("ul",{className:"col col-lg-6 col-md-12 col-sm-12"},t.map((function(e,t){return 0===t&&c.a.createElement("li",{key:e.id},c.a.createElement(qe,{item:e,className:"article-card"}))}))),c.a.createElement("ul",{className:"col col-lg-6 col-md-12 col-sm-12"},t.map((function(e,t){return 0!==t&&c.a.createElement("li",{className:"featured-card-right",key:e.id},c.a.createElement(Me,{item:e}))}))))},Je=function(e){return c.a.createElement("section",{className:"featured",id:"featured"},c.a.createElement("div",{className:"container"},c.a.createElement("h3",{className:"section-title"},"Featured Posts"),c.a.createElement(Ve,{featuredList:e.featuredList})))},We=function(e){return c.a.createElement("ul",{className:"row"},e.publicArticles.map((function(e){return c.a.createElement("li",{className:"col col-lg-4 col-md-6 col-sm-12",key:e.id},c.a.createElement(qe,{item:e,className:"article-card border-article-card"}))})))},Ze=function(e){return c.a.createElement("section",{className:"public",id:"post-list"},c.a.createElement("div",{className:"container"},c.a.createElement("h3",{className:"section-title"},e.title),c.a.createElement(We,{publicArticles:e.publicArticles}),c.a.createElement("div",{className:"public-pagination"},c.a.createElement(xe,{loading:e.loading,handleFunction:function(){e.parentCallback(e.page+1)},classBtn:"btn btn-primary btn-show"},"Show more posts"))))},$e=function(){return c.a.createElement("div",{className:"page-loading-spinner"},c.a.createElement("img",{src:"../../../../assets/images/loading-spinner-double.svg",alt:"loading"}))},Ke=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},Ye=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Qe=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},Xe=[{path:"/",element:function(){var e=new De,t=Object(u.useSelector)((function(e){return e.authReducer})),n=Object(l.useState)([]),a=n[0],r=n[1],o=Object(l.useState)([]),i=o[0],s=o[1],m=Object(l.useState)(1),f=m[0],p=m[1],d=Object(l.useState)(!1),h=d[0],b=d[1],v=Object(l.useState)(!1),g=v[0],y=v[1],E=Object(l.useState)(!1),w=(E[0],E[1]);return Object(l.useEffect)((function(){y(!0),w(!1),Ke(void 0,void 0,void 0,(function(){var t;return Ye(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.getFeaturedArticles({page:1,size:6})];case 1:return t=n.sent(),s(Qe(Qe([],i,!0),t.data,!0)),y(!1),[3,3];case 2:return n.sent(),w(!0),b(!1),[3,3];case 3:return[2]}}))}))}),[]),Object(l.useEffect)((function(){p(1),r([]),Ke(void 0,void 0,void 0,(function(){var n;return Ye(this,(function(a){switch(a.label){case 0:w(!1),a.label=1;case 1:return a.trys.push([1,6,,7]),t.data?[4,e.getFollowingPost({page:f,size:6})]:[3,3];case 2:return n=a.sent(),r(Qe([],n.data,!0)),[3,5];case 3:return[4,e.getPublicArticles({page:f,size:6})];case 4:n=a.sent(),r(Qe([],n.data,!0)),a.label=5;case 5:return b(!1),[3,7];case 6:return a.sent(),w(!0),b(!1),[3,7];case 7:return[2]}}))}))}),[t.data]),Object(l.useEffect)((function(){b(!0),Ke(void 0,void 0,void 0,(function(){var n;return Ye(this,(function(o){switch(o.label){case 0:w(!1),o.label=1;case 1:return o.trys.push([1,6,,7]),t.data?[4,e.getFollowingPost({page:f,size:6})]:[3,3];case 2:return n=o.sent(),r(Qe(Qe([],a,!0),n.data,!0)),[3,5];case 3:return[4,e.getPublicArticles({page:f,size:6})];case 4:n=o.sent(),r(Qe(Qe([],a,!0),n.data,!0)),o.label=5;case 5:return b(!1),[3,7];case 6:return o.sent(),w(!0),b(!1),[3,7];case 7:return[2]}}))}))}),[f]),g?c.a.createElement($e,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge,null),c.a.createElement(Je,{featuredList:i}),c.a.createElement(Ze,{publicArticles:a,parentCallback:function(e){p(e),b(!0)},page:f,loading:h,title:t.data?"Following":"Public Posts"}))}}],et=function(){function e(){this.http=new H}return e.prototype.getSignURL=function(e){return function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(this,void 0,void 0,(function(){return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(t){return[2,this.http.get([U.signatures.index+"?type_upload="+e.typeUpload+"&file_name="+e.fileName+"&file_type="+e.fileType])]}))}))},e}(),tt=n(314),nt=new et,at=function(){function e(e){this.loader=e}return e.prototype.upload=function(){var e,t=this;return this.loader.file.then((function(n){return new Promise((function(a,r){return function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))}(n).then((function(){return function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(t,void 0,void 0,(function(){var t=this;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(o){switch(o.label){case 0:return[4,nt.getSignURL({typeUpload:"content-post",fileName:n.name,fileType:n.type})];case 1:return e=o.sent(),[2,D.a.put(e.signedRequest,n).then((function(o){o.status?(t.loader.uploaded=!0,a({default:e.url})):r("Couldn't upload file: "+n.name+".")}))]}}))}))}))}))}))},e}(),rt={extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new at(e)}}],toolbar:["heading","|","bold","italic","link","|","outdent","indent","|","bulletedList","numberedList","|","insertTable","uploadImage","blockQuote","|","undo","redo"],heading:{options:[{model:"paragraph",title:"Paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"}]}},ot=n(315),lt=n.n(ot),ct=function(e){var t=function(){e.setShow(!1)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal-shadow",onClick:t}),c.a.createElement("div",{className:"modal "+e.className},c.a.createElement("button",{className:"btn btn-danger close-btn",onClick:t},"✖"),c.a.createElement("div",{className:"modal-content"},e.children)))},it=n(133),st=n.n(it),ut=function(e){var t=e.content;return c.a.createElement("div",{className:"post-content"},st()(t,{transform:function(e){if("tag"===e.type)switch(e.name){case"figcaption":e.attribs.class="img-caption";break;case"p":e.attribs.class="paragraph-block";break;case"blockquote":e.attribs.class="quote";break;case"img":e.attribs.class="img-content";break;case"a":e.attribs.class="link",e.attribs.target="blank";break;case"ul":e.attribs.class="unordered-list-content";break;case"ol":e.attribs.class="ordered-list-content";break;case"li":e.attribs.class="item-content";break;default:return}}}))},mt=function(e){var t=e.post;return c.a.createElement("div",{className:"post-detail post-preview"},c.a.createElement("div",{className:"container"},c.a.createElement("h2",{className:"post-title mb-10 mt-4"},t.title),c.a.createElement("div",{className:"cover-img-container"},c.a.createElement("img",{className:"cover-img",src:t.cover||"/assets/images/default_cover.jpg",alt:t.title})),c.a.createElement(ut,{content:t.content})))},ft=function(e){var t=Object(s.useNavigate)(),n=Object(s.useLocation)(),a=Object(l.useState)(!1),r=a[0],o=a[1],i=Object(l.useState)(null),u=i[0],m=i[1],f=Object(l.useState)(!1),p=f[0],d=f[1];return Object(l.useEffect)((function(){p&&t(u)}),[p]),Object(s.useBlocker)((function(e){e.location.pathname!==n.pathname&&(o(!0),m(e.location.pathname))}),e.isBlocking),c.a.createElement(c.a.Fragment,null,r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"modal-shadow"}),c.a.createElement("div",{className:"prompt"},c.a.createElement("h3",{className:"prompt-title"},e.title),c.a.createElement("p",{className:"prompt-message"},e.message),c.a.createElement("div",{className:"prompt-actions"},c.a.createElement("button",{className:"btn btn-primary prompt-btn",onClick:function(){o(!1),d(!0)}},"Yes"),c.a.createElement("button",{className:"btn btn-outline prompt-btn",onClick:function(){o(!1)}},"Back")))))},pt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},dt=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},ht=function(e){var t=e.postDetail,n=new De,a=new et,r=Object(l.useState)(!1),o=r[0],i=r[1],s=Object(l.useState)(!0),u=s[0],m=s[1],f=Object(l.useState)(""),p=f[0],d=f[1],h=Object(l.useState)({preview:void 0,raw:void 0}),b=h[0],v=h[1],g=Object(l.useState)(!1),y=g[0],E=g[1],w=Object(l.useState)("private"===t.status),N=w[0],k=w[1],x=Object(l.useState)(t.tags.toString()),O=x[0],S=x[1],j=Object(l.useState)({}),P=j[0],L=j[1],F=Object(l.useState)(!1),T=F[0],_=F[1],I=Object(l.useState)(t.title),C=I[0],A=I[1],R=Object(l.useState)(!1),U=R[0],B=R[1],D=C.trim().length>20,G=!D&&U,H=Object(l.useState)(t.description),z=H[0],q=H[1],M=Object(l.useState)(!1),V=M[0],J=M[1],W=z.trim().length>50,Z=!W&&V,$=Object(l.useState)(t.content),K=$[0],Y=$[1],Q=Object(l.useState)(!1),X=Q[0],ee=Q[1],te=K.trim().length>100,ne=!te&&X,ae=Object(l.useState)(!1),re=ae[0],oe=ae[1],le=Object(l.useState)(!1),ce=le[0],ie=le[1],se=Object(l.useState)(null),ue=se[0],me=se[1],fe=Object(l.useState)(!1),pe=fe[0],de=fe[1],he=Object(l.useContext)(Le).showNotification,be=function(e){return pt(void 0,void 0,void 0,(function(){return dt(this,(function(t){switch(t.label){case 0:return[4,n.createPost(e)];case 1:return t.sent(),[2]}}))}))},ve=function(e){return pt(void 0,void 0,void 0,(function(){return dt(this,(function(a){switch(a.label){case 0:return[4,n.updatePost(e,t.id)];case 1:return a.sent(),[2]}}))}))},ge=function(e){return pt(void 0,void 0,void 0,(function(){return dt(this,(function(t){switch(t.label){case 0:return[4,n.createDraft(e)];case 1:return t.sent(),[2]}}))}))},ye=function(e){void 0===e&&(e=!1),m(!1),B(!0),J(!0),ee(!0),D&&W&&te&&pt(void 0,void 0,void 0,(function(){var r,o,l,c;return dt(this,(function(i){switch(i.label){case 0:e?ie(!0):oe(!0),i.label=1;case 1:return i.trys.push([1,10,,11]),[4,a.getSignURL({typeUpload:"cover-post",fileName:P.name,fileType:P.type})];case 2:return r=i.sent(),[4,n.uploadImageInSignURL(r.signedRequest,P)];case 3:return i.sent(),o=O?O.split(",").map((function(e){return e.trim()})):[],l={title:C,description:z,content:K,tags:o,cover:y?r.url:t.cover,status:N?"private":"public"},e?(d("Save Draft"),[4,ge(l)]):[3,5];case 4:return i.sent(),[3,9];case 5:return t.id?[3,7]:(d("Create Post"),[4,be(l)]);case 6:return i.sent(),[3,9];case 7:return d("Update Post"),[4,ve(l)];case 8:i.sent(),i.label=9;case 9:return[3,11];case 10:return c=i.sent(),me(c),[3,11];case 11:return e?ie(!1):oe(!1),de(!0),[2]}}))}))};return Object(l.useEffect)((function(){pe&&!ue&&he({isSuccess:!0,message:p+" Successfully"}),pe&&ue&&he({isSuccess:!1,message:p+" Unsuccessfully"})}),[pe]),pe&&"Save Draft"!==p?c.a.createElement(je.Navigate,{to:"/profile/me"}):pe&&"Save Draft"===p?c.a.createElement(je.Navigate,{to:"/draft"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(ft,{isBlocking:u,title:"Unsaved Changes",message:"It looks like you have been editing something. If you leave before saving, your changes will be lost."}),c.a.createElement("div",{className:"new-post container container-sm"},c.a.createElement("form",{className:"post-form"},c.a.createElement("img",{className:"post-cover",src:b.preview||t.cover,alt:"post cover"}),c.a.createElement("div",{className:"post-form-options"},c.a.createElement("label",{htmlFor:"fileInput",title:"Add cover image",className:"choose-image"},T?c.a.createElement("img",{src:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fgifimage.net%2Fwp-content%2Fuploads%2F2017%2F09%2Fajax-loading-gif-transparent-background-8.gif&f=1&nofb=1",alt:"loading",className:"loading-indicator"}):c.a.createElement("img",{className:"post-form-file-img",src:"/assets/icons/plus-icon.svg",alt:"add image"}),c.a.createElement("p",{className:"choose-image-text"},"Select a cover image")),c.a.createElement("input",{id:"fileInput",type:"file",multiple:!0,accept:"image/*",className:"post-form-file",onChange:function(e){_(!0);var t=e.target.files;v((function(e){return L(t[0]||e.raw[0]),{preview:t[length]?URL.createObjectURL(t[0]):e.preview,raw:t||e.raw}})),_(!1),E(!0)}}),c.a.createElement("input",{className:"switch-toggle",type:"checkbox",checked:N,onChange:function(e){return k(!!e.target.checked)}})),c.a.createElement("div",{className:"post-form-group"},c.a.createElement("input",{className:"post-form-input post-form-title",placeholder:"Title",type:"text",value:C,onChange:function(e){return A(e.target.value)},onBlur:function(e){return B(!0)}})),G&&c.a.createElement("span",{className:"form-error post-form-error"},"Title length must be at least 20 characters long"),c.a.createElement("div",{className:"post-form-group"},c.a.createElement("textarea",{className:"post-form-input post-form-description",placeholder:"Description",value:z,onChange:function(e){return q(e.target.value)},onBlur:function(e){return J(!0)}})),Z&&c.a.createElement("span",{className:"form-error post-form-error"},"Description length must be at least 50 characters long"),c.a.createElement("div",{className:"form-editor"},c.a.createElement(tt.CKEditor,{editor:lt.a,config:rt,data:K,className:"post-form-content",onChange:function(e,t){Y(t.getData())},onBlur:function(e){return ee(!0)}})),ne&&c.a.createElement("span",{className:"form-error post-form-error"},"Content length must be at least 100 characters long"),c.a.createElement("div",{className:"post-form-group"},c.a.createElement("input",{className:"post-form-input post-form-description",placeholder:"Tags (Separate multiple tags with commas)",type:"text",value:O,onChange:function(e){return S(e.target.value)}})),c.a.createElement("div",{className:"post-form-submit"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){i(!0)},type:"button",className:"btn btn-outline btn-publish"},"Preview")),c.a.createElement("div",{className:"post-form-submit"},!t.id&&c.a.createElement(xe,{classBtn:"btn btn-primary btn-publish ml-4",loading:ce,handleFunction:function(){return ye(!0)},type:"button"},"Save Draft"),c.a.createElement(xe,{classBtn:"btn btn-primary btn-publish",loading:re,handleFunction:function(){return ye()},type:"button"},"Publish")))),o&&c.a.createElement(ct,{setShow:i,className:"modal-preview"},c.a.createElement(mt,{post:{title:C,cover:b.preview,content:K}}))))},bt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},vt=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},gt=function(){function e(){this.http=new H}return e.prototype.getUserInfo=function(e){return bt(this,void 0,void 0,(function(){return vt(this,(function(t){return[2,this.http.get([U.users.index+"/"+e])]}))}))},e.prototype.getArticlesList=function(e){return bt(this,void 0,void 0,(function(){return vt(this,(function(t){return[2,this.http.get([U.users.index+"/"+e+"/posts"])]}))}))},e}(),yt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},Et=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},wt=function(){function e(){this.http=new H}return e.prototype.getListUserLiked=function(e){return yt(this,void 0,void 0,(function(){return Et(this,(function(t){return[2,this.http.get([U.posts.index+"/"+e+"/likes"])]}))}))},e.prototype.likePost=function(e){return yt(this,void 0,void 0,(function(){return Et(this,(function(t){return[2,this.http.put([U.posts.index+"/"+e+"/likes"])]}))}))},e.prototype.getListUserCommented=function(e){return yt(this,void 0,void 0,(function(){return Et(this,(function(t){return[2,this.http.get([U.posts.index+"/"+e+"/comments"])]}))}))},e.prototype.commentPost=function(e,t){return yt(this,void 0,void 0,(function(){return Et(this,(function(n){return[2,this.http.post([U.posts.index+"/"+t+"/comments"],e)]}))}))},e}(),Nt=function(e){var t=e.data;return c.a.createElement("div",{className:"comment py-4"},c.a.createElement("div",{className:"comment-info mb-1"},c.a.createElement(s.Link,{to:"/profile/"+t.user.id,className:"comment-author"},c.a.createElement("img",{src:t.user.picture||"../../../../../assets/images/default-user-picture.jpeg",alt:t.user.displayName,className:"author-img"})),c.a.createElement("div",{className:"comment-info-detail"},c.a.createElement(s.Link,{to:"/profile/"+t.user.id,className:"comment-author-name"},t.user.firstName+" "+t.user.lastName),c.a.createElement("p",{className:"comment-datetime"},"commented on ",He(t.createdAt)))),c.a.createElement("div",{className:"comment-content"},st()(e.data.comment)))},kt=function(e){var t;return c.a.createElement("ul",{className:"comment-list"},null===(t=e.data)||void 0===t?void 0:t.map((function(e){return c.a.createElement("li",{className:"comment-item",key:e.id},c.a.createElement(Nt,{data:e}))})))},xt=function(){return(xt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ot=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},St=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},jt=new wt,Pt=function(e){var t,n=e.id,a=Object(u.useSelector)((function(e){return e.accountReducer})),r=Object(l.useState)(null),o=r[0],i=r[1],m=Object(l.useState)(!1),f=m[0],p=m[1],d=Object(l.useContext)(Le).showNotification,h=Object(ke.useForm)(),b=h.register,v=h.handleSubmit,g=h.resetField,y=h.formState.errors;return Object(l.useEffect)((function(){Ot(void 0,void 0,void 0,(function(){var e;return St(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,jt.getListUserCommented(n)];case 1:return e=t.sent(),i(e),[3,3];case 2:return t.sent(),[3,3];case 3:return[2]}}))}))}),[]),c.a.createElement("div",{className:"container"},(null===(t=a.data)||void 0===t?void 0:t.id)?c.a.createElement("form",{className:"form comment-form",onSubmit:v((function(e){Ot(void 0,void 0,void 0,(function(){var t;return St(this,(function(r){switch(r.label){case 0:p(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,jt.commentPost(e,n)];case 2:return t=r.sent(),i(function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}([xt(xt({},t),{user:a.data})],o,!0)),g("content"),[3,4];case 3:return r.sent(),d({isSuccess:!1,message:"Comment unsuccessfully"}),[3,4];case 4:return p(!1),[2]}}))}))}))},c.a.createElement("textarea",xt({rows:3},b("content",{required:"You have not input anything"}),{id:"comment-input",placeholder:"What do you think about the post ?",className:"form-control form-input "+(y.content?"invalid":"")})),y.content&&c.a.createElement("span",{className:"form-error"},y.content.message),c.a.createElement(xe,{loading:f,classBtn:"btn btn-primary"},"Post")):c.a.createElement("p",{className:"txt-semi "+((null==o?void 0:o.length)>0?"mb-10":"mb-2")+"  txt-center"},"You have to login to post comment!",c.a.createElement(s.Link,{className:"txt-primary",to:"/auth/login"},"  Login Now")),o?c.a.createElement(kt,{data:o}):c.a.createElement($e,null))},Lt=function(e){var t=e.user;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"post-author-subcription"},c.a.createElement("div",{className:"author-info"},c.a.createElement(s.Link,{to:"/profile/"+t.id},c.a.createElement("img",{className:"author-img",src:t.picture||"../../../../assets/images/default-user-picture.jpeg",alt:t.displayName})),c.a.createElement("div",{className:"author-info-detail"},c.a.createElement(s.Link,{to:"/profile/"+t.id},c.a.createElement("h5",{className:"author-name"},t.firstName+" "+t.lastName)),c.a.createElement("span",{className:"author-display-name txt-primary"},t.displayName?"@"+t.displayName:"")))))},Ft=function(e){var t=e.list;return e.isLoadingList?c.a.createElement($e,null):c.a.createElement("ul",{className:"list-users-liked"},t.length?t.map((function(e){return c.a.createElement("li",{className:"user-liked",key:e.user.id},c.a.createElement(Lt,{user:e.user}))})):c.a.createElement("h3",{className:"list-users-text"},"No one likes this post"))},Tt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},_t=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},It=new wt,Ct=new De,At=function(e){var t=e.postDetail,n=Object(u.useSelector)((function(e){return e.authReducer})),a=Object(l.useState)(!!n.data),r=a[0],o=a[1],i=Object(l.useState)(null),s=i[0],m=i[1],f=Object(l.useState)(!1),p=f[0],d=f[1],h=Object(l.useState)(+t.likes),b=h[0],v=h[1],g=Object(l.useState)(!!r&&(null==s?void 0:s.isLiked)),y=g[0],E=g[1],w=Object(l.useContext)(Le).showNotification,N=Object(l.useState)(!1),k=N[0],x=N[1],O=Object(l.useState)(null),S=O[0],j=O[1],P=Object(l.useState)(!1),L=P[0],F=P[1],T=Object(l.useState)(!1),_=(T[0],T[1]);return Object(l.useEffect)((function(){o(!!n.data),E(!!n.data&&t.isLiked),_(!1),Tt(void 0,void 0,void 0,(function(){var e;return _t(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Ct.getPost(t.id)];case 1:return e=n.sent(),E(null==e?void 0:e.isLiked),m(e),[3,3];case 2:return n.sent(),_(!0),[3,3];case 3:return[2]}}))}))}),[n]),Object(l.useEffect)((function(){F(!0),_(!1),Tt(void 0,void 0,void 0,(function(){var e;return _t(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,It.getListUserLiked(t.id)];case 1:return e=n.sent(),j(e),F(!1),[3,3];case 2:return n.sent(),_(!0),[3,3];case 3:return[2]}}))}))}),[k]),c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-reaction",onClick:function(){r?(d(!0),Tt(void 0,void 0,void 0,(function(){var e;return _t(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),_(!1),[4,It.likePost(t.id)];case 1:return e=n.sent(),E(e.liked),v((function(e){return y?e-1:e+1})),d(!1),[3,3];case 2:return n.sent(),_(!0),[3,3];case 3:return[2]}}))}))):w({isSuccess:!1,message:"Please Login First !"})},disabled:p},c.a.createElement("img",{className:e.isUserArticle?"article-reaction-icon":"reaction-icon",src:y?"../../../../assets/icons/like-solid.svg":"../../../../assets/icons/like-outline.svg",alt:"Likes"})),c.a.createElement("span",{className:(e.isUserArticle?"article-reaction-text":"reaction-text")+" reaction-text-like",onClick:function(){x(!0)}},b),k&&c.a.createElement(ct,{setShow:x,className:"modal-liked-users"},c.a.createElement(Ft,{list:S,isLoadingList:L})))},Rt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},Ut=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Bt=function(){function e(){this.http=new H}return e.prototype.getFollowings=function(e){return Rt(this,void 0,void 0,(function(){return Ut(this,(function(t){return[2,this.http.get([U.friends.index+"/"+e+"/followings"])]}))}))},e.prototype.getFollowers=function(e){return Rt(this,void 0,void 0,(function(){return Ut(this,(function(t){return[2,this.http.get([U.friends.index+"/"+e+"/followers"])]}))}))},e.prototype.followUser=function(e){return Rt(this,void 0,void 0,(function(){return Ut(this,(function(t){return[2,this.http.post([U.friends.follow],e)]}))}))},e}(),Dt=function(e){var t=Object(l.useContext)(Le).showNotification,n=new Bt,a=Object(l.useState)(e.isFollowed),r=a[0],o=a[1],i=Object(l.useState)(!1),s=i[0],u=i[1],m=Object(l.useState)(!1),f=m[0],p=m[1];return Object(l.useEffect)((function(){f&&t({isSuccess:!1,message:(r?"Unfollow":"Follow")+" user unsuccessfully!"})}),[f]),c.a.createElement(xe,{loading:s,classBtn:"btn btn-outline btn-follow",handleFunction:function(){return function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,a;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(r){switch(r.label){case 0:u(!0),r.label=1;case 1:return r.trys.push([1,3,,4]),p(!1),[4,n.followUser({followingId:e.followingId})];case 2:return t=r.sent(),a=t.followed,o(a),e.onClick&&e.onClick(),[3,4];case 3:return r.sent(),p(!0),[3,4];case 4:return u(!1),[2]}}))}))}},r?"Unfollow":"Follow")},Gt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},Ht=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},zt=function(){function e(){this.http=new H}return e.prototype.getBookmarks=function(){return Gt(this,void 0,void 0,(function(){return Ht(this,(function(e){return[2,this.http.get([U.bookmarks.index])]}))}))},e.prototype.toggleBookmarks=function(e){return Gt(this,void 0,void 0,(function(){return Ht(this,(function(t){return[2,this.http.post([U.bookmarks.index],e)]}))}))},e}(),qt=function(e){var t=Object(l.useContext)(Le).showNotification,n=new zt,a=Object(l.useState)(e.isInBookmark),r=a[0],o=a[1],i=Object(l.useState)(!1),s=i[0],u=i[1],m=Object(l.useState)(null),f=m[0],p=m[1];return Object(l.useEffect)((function(){f&&t({isSuccess:!1,message:401===f.response.status?"Please login first!":(r?"Unbookmark":"Bookmark")+" post unsuccessfully!"})}),[f]),c.a.createElement("button",{className:"btn btn-reaction",onClick:function(){return function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,a,r;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(l){switch(l.label){case 0:u(!0),l.label=1;case 1:return l.trys.push([1,3,,4]),p(!1),[4,n.toggleBookmarks({postId:e.postId.toString()})];case 2:return t=l.sent(),a=t.isInBookmark,o(a),[3,4];case 3:return r=l.sent(),p(r),[3,4];case 4:return u(!1),[2]}}))}))},disabled:s},c.a.createElement("img",{className:"reaction-icon",src:r?"../../../../assets/icons/bookmark-solid.svg":"../../../../assets/icons/bookmark-outline.svg",alt:"Bookmark"}))},Mt=function(){return(Mt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Vt=[{path:"/post",element:function(){return c.a.createElement("div",{className:"post-container"},c.a.createElement(je.Outlet,null))},children:[{path:"/",redirect:"/"},{path:"/new-post",element:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ht,{postDetail:{id:null,cover:"https://sharing-news-project.s3.amazonaws.com/cover-post/default_cover.jpg",status:"public",tags:[],title:"",description:"",content:""}}),";")},isProtected:!0},{path:"/:id",element:function(){var e,t,n,a=Object(je.useParams)().id,r=new De,o=new gt,i=(Object(je.useNavigate)(),Object(u.useSelector)((function(e){return e.accountReducer}))),m=Object(u.useSelector)((function(e){return e.authReducer})),f=Object(l.useState)(null),p=f[0],d=f[1],h=Object(l.useState)(null),b=h[0],v=h[1],g=Object(l.useState)(!1),y=g[0],E=g[1],w=Object(l.useState)(!1),N=(w[0],w[1]);return Object(l.useEffect)((function(){!function(e,t,n,a){new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var e,t,n;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(l){switch(l.label){case 0:E(!0),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,r.getPost(a)];case 2:return e=l.sent(),d(e),m.data?[4,o.getUserInfo(e.userId)]:[3,4];case 3:t=l.sent(),v(Mt({id:e.userId},t)),l.label=4;case 4:return[3,6];case 5:return n=l.sent(),N(n),[3,6];case 6:return E(!1),[2]}}))}))}),[]),y?c.a.createElement($e,null):c.a.createElement(c.a.Fragment,null,"draft"===(null==p?void 0:p.status)?c.a.createElement(je.Navigate,{to:"/"}):p&&c.a.createElement(c.a.Fragment,null,c.a.createElement("section",{className:"post-detail my-10"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"post-header mb-10"},c.a.createElement("div",{className:"post-tag"},c.a.createElement(ze,{tagsList:p.tags})),c.a.createElement("h2",{className:"post-title mb-10 mt-4"},p.title),c.a.createElement("div",{className:"post-info mb-10"},c.a.createElement(s.Link,{to:"/profile/"+p.user.id,className:"post-author"},c.a.createElement("img",{src:p.user.picture||"/assets/images/default-user-picture.jpeg",alt:p.user.displayName,className:"author-img"})),c.a.createElement("div",{className:"post-info-detail"},c.a.createElement(s.Link,{to:"/profile/"+p.user.id,className:"post-author-name"},p.user.firstName+" "+p.user.lastName),c.a.createElement("p",{className:"post-datetime"},"posted on ",He(p.createdAt)))),c.a.createElement("div",{className:"cover-img-container"},c.a.createElement("img",{className:"cover-img",src:p.cover,alt:p.title}))),c.a.createElement("div",{className:"post-main"},c.a.createElement(ut,{content:p.content})),c.a.createElement("div",{className:"post-footer"},c.a.createElement("div",{className:"post-toolbar"},c.a.createElement("div",{className:"post-reaction"},c.a.createElement(At,{postDetail:p}),c.a.createElement("label",{htmlFor:"comment-input",className:"btn btn-reaction"},c.a.createElement("img",{className:"reaction-icon",src:"../../../../assets/icons/comment-outline.svg",alt:"Comments"})),c.a.createElement("span",{className:"reaction-text"},p.comments),c.a.createElement("div",{className:"post-bookmark"},m.data&&c.a.createElement(qt,{isInBookmark:p.isInBookmark,postId:p.id})))),c.a.createElement("div",{className:"post-author-subcription"},c.a.createElement("h4",{className:"mb-5"},"Written by"),c.a.createElement("div",{className:"author-info"},c.a.createElement(s.Link,{to:"/profile/"+p.user.id},c.a.createElement("img",{className:"author-img",src:p.user.picture||"/assets/images/default-user-picture.jpeg",alt:p.user.displayName})),c.a.createElement("div",{className:"author-info-detail"},c.a.createElement(s.Link,{to:"/profile/"+p.user.id},c.a.createElement("h5",{className:"author-name"},p.user.firstName+" "+p.user.lastName)),c.a.createElement("span",{className:"author-display-name txt-primary"},(null===(e=p.user)||void 0===e?void 0:e.displayName)?"@"+(null===(t=p.user)||void 0===t?void 0:t.displayName):"")),m.data&&(null==b?void 0:b.id)!==(null===(n=i.data)||void 0===n?void 0:n.id)&&c.a.createElement(Dt,{followingId:b.id,isFollowed:b.isFollowed})))))),"draft"!==p.status&&c.a.createElement("section",{className:"post-comment",id:"comment"},c.a.createElement(Pt,{id:p.id}))))}},{path:"/update-post/:id",element:function(){var e=Object(je.useParams)().id,t=new De,n=Object(l.useState)(null),a=n[0],r=n[1],o=Object(l.useState)(!1),i=o[0],s=o[1],u=Object(l.useState)(!1),m=u[0],f=u[1];return Object(l.useEffect)((function(){s(!0),f(!1),function(e,t,n,a){new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var n;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.getPost(e)];case 1:return n=a.sent(),r(n),[3,3];case 2:return a.sent(),f(!0),[3,3];case 3:return s(!1),[2]}}))}))}),[e]),i?c.a.createElement($e,null):m?c.a.createElement("p",{className:"txt-center txt-error mt-10"},"Something went wrong. Please try again!"):c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(ht,{postDetail:a}))},isProtected:!0}]}],Jt=function(e){var t="/profile/"+e.userInfo.id;return c.a.createElement("li",{className:"col col-lg-3 col-md-6 col-sm-12"},c.a.createElement(s.Link,{className:"follow-item",to:t},c.a.createElement("div",{className:"follow-img-box"},!e.userInfo.picture&&c.a.createElement("img",{className:"follow-img",src:"../../../../assets/images/default-user-picture.jpeg",alt:e.userInfo.displayName}),e.userInfo.picture&&c.a.createElement("img",{className:"follow-img",src:e.userInfo.picture,alt:e.userInfo.displayName})),c.a.createElement("h3",{className:"follow-fullname"},e.userInfo.firstName," ",e.userInfo.lastName),c.a.createElement("p",{className:"follow-displayname"},"@",e.userInfo.displayName||e.userInfo.firstName)))},Wt=function(e){return c.a.createElement("ul",{className:"row follow-list"},e.followList.map((function(e){return c.a.createElement(Jt,{userInfo:e,key:e.id})})))},Zt=function(e){var t,n=Object(je.useParams)().id,a=(null===(t=Object(u.useSelector)((function(e){return e.accountReducer})).data)||void 0===t?void 0:t.displayName)===e.userInfo.displayName,r=Object(l.useState)(e.userInfo.isFollowed),o=r[0],i=r[1],m=Object(l.useState)(e.userInfo.followers),f=m[0],p=m[1];return c.a.createElement("section",{className:"profile"},c.a.createElement("div",{className:"container container-sm"},c.a.createElement("div",{className:"profile-container"},c.a.createElement("div",{className:"profile-img-box"},c.a.createElement("img",{className:"profile-img",src:e.userInfo.picture||"../../../../assets/images/default-user-picture.jpeg",alt:e.userInfo.displayName})),c.a.createElement("div",{className:"profile-detail"},c.a.createElement("div",{className:"profile-name"},c.a.createElement("h3",{className:"profile-fullname"},e.userInfo.firstName," ",e.userInfo.lastName),c.a.createElement("p",{className:"profile-displayname"},"@",e.userInfo.displayName||e.userInfo.firstName)),c.a.createElement("div",{className:"profile-follow"},c.a.createElement(s.Link,{to:"following"},c.a.createElement("span",{className:"profile-follow-number"},e.userInfo.followings),c.a.createElement("span",{className:"profile-follow-text"},"followings")),c.a.createElement(s.Link,{to:"follower"},c.a.createElement("span",{className:"profile-follow-number"},f),c.a.createElement("span",{className:"profile-follow-text"},"followers"))),c.a.createElement("div",{className:"profile-actions"},a?c.a.createElement(s.Link,{to:"/account/info",className:"btn btn-outline"},"Change profile"):c.a.createElement(Dt,{isFollowed:o,followingId:n,onClick:function(){i((function(e){return!e})),p((function(e){return o?e-1:e+1}))}}))))))},$t=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},Kt=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Yt=function(e){var t,n=e.article,a=new De,r=Object(u.useSelector)((function(e){return e.authReducer})),o=Object(l.useState)(!1),i=o[0],m=o[1],f=Object(l.useState)(!1),p=f[0],d=f[1],b=Object(l.useState)(!1),v=b[0],g=b[1],y=Object(l.useState)("Recyclebin"===e.section),E=y[0],w=(y[1],Object(l.useState)(!1)),N=(w[0],w[1]),k="/post/update-post/"+n.id;return i||p?c.a.createElement(c.a.Fragment,null):c.a.createElement("div",{className:"article-card user-article-card"},c.a.createElement("div",{className:"article-header"},c.a.createElement(s.Link,{to:"/post/"+(e.isReaction?"":"update-post/")+n.id},c.a.createElement("img",{src:n.cover||"/assets/images/default_cover.jpg",alt:n.title,className:"article-img "+(E?"disableLink":"")}))),c.a.createElement("div",{className:"article-body"},c.a.createElement("div",{className:"article-tag"},c.a.createElement(ze,{tagsList:n.tags})),c.a.createElement(s.Link,{to:"/post/"+(e.isReaction?"":"update-post/")+n.id,className:"article-title-text "+(E?"disableLink":"")},n.title),c.a.createElement("p",{className:"article-content"},n.description),c.a.createElement("div",{className:"article-footer"},c.a.createElement("div",{className:"article-reaction"},e.isReaction&&c.a.createElement(c.a.Fragment,null,c.a.createElement(At,{postDetail:n,isUserArticle:!0}),c.a.createElement(h.HashLink,{to:"/post/"+n.id+"#comment"},c.a.createElement("img",{className:"article-reaction-icon",src:"../../../../assets/icons/comment-outline.svg",alt:"Comments"})),c.a.createElement("span",{className:"article-reaction-text"},n.comments))),(null===(t=r.data)||void 0===t?void 0:t.userInfo.id)===(null==n?void 0:n.userId)&&c.a.createElement("div",{className:"article-actions"},!E&&c.a.createElement(s.Link,{className:"btn btn-update",to:k},"Update"),!v&&c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"btn btn-delete",onClick:E?function(){g(!0),N(!1),$t(void 0,void 0,void 0,(function(){var e;return Kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,a.restoreDeletedPost(n.id)];case 1:return e=t.sent(),d(e),[3,3];case 2:return t.sent(),N(!0),[3,3];case 3:return g(!1),[2]}}))}))}:function(){g(!0),N(!1),$t(void 0,void 0,void 0,(function(){var e;return Kt(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,a.deletePost(n.id)];case 1:return e=t.sent(),m(e),[3,3];case 2:return t.sent(),N(!0),[3,3];case 3:return g(!1),[2]}}))}))}},E?"Restore":"Delete")),v&&c.a.createElement("button",{className:"btn btn-delete",disabled:!0},E?"Restoring":"Deleting")))))},Qt=function(e){return c.a.createElement("section",{className:"user-article"},c.a.createElement("div",{className:"container container-sm"},c.a.createElement("h3",{className:"section-title"},e.heading),e.articlesList.length?e.articlesList.map((function(t){return c.a.createElement(Yt,{key:t.id,article:t,isReaction:e.isReaction,section:e.heading})})):c.a.createElement("p",null,e.message),"Recyclebin"===e.heading&&e.isLoadMore&&c.a.createElement("div",{className:"public-pagination"},c.a.createElement(xe,{loading:e.loading,handleFunction:function(){e.parentCallback(e.page+1)},classBtn:"btn btn-primary btn-show"},"Show more posts"))))},Xt=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},en=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},tn=[{path:"/profile",element:function(){return c.a.createElement("div",{className:"profile-page"},c.a.createElement(je.Outlet,null))},children:[{path:"/",redirect:"me"},{path:"/:id",element:function(){var e=Object(je.useParams)().id,t=new gt,n=Object(l.useState)(null),a=n[0],r=n[1],o=Object(l.useState)(null),i=o[0],s=o[1],u=Object(l.useState)(!1),m=u[0],f=u[1],p=Object(l.useState)(!1),d=p[0],h=p[1],b=Object(l.useState)(!1),v=b[0],g=b[1];return Object(l.useEffect)((function(){f(!0),h(!0),g(!1),Xt(void 0,void 0,void 0,(function(){var n;return en(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.getUserInfo(e)];case 1:return n=a.sent(),r(n),[3,3];case 2:return a.sent(),g(!0),[3,3];case 3:return f(!1),[2]}}))})),Xt(void 0,void 0,void 0,(function(){var n;return en(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.getArticlesList(e)];case 1:return n=a.sent(),s(n.Posts),[3,3];case 2:return a.sent(),g(!0),[3,3];case 3:return h(!1),[2]}}))}))}),[e]),m||d?c.a.createElement($e,null):v?c.a.createElement("p",{className:"txt-center txt-error mt-10"},"Something went wrong. Please try again!"):c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(Zt,{userInfo:a}),i&&c.a.createElement(Qt,{isReaction:!0,articlesList:i,heading:"Personal Posts",message:"No posts to show"}))}},{path:"/:id/following",element:function(){var e=Object(je.useParams)().id,t=new Bt,n=Object(l.useState)(null),a=n[0],r=n[1],o=Object(l.useState)(!1),i=o[0],s=o[1],u=Object(l.useState)(!1),m=u[0],f=u[1];return Object(l.useEffect)((function(){s(!0),f(!1),function(e,t,n,a){new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var n;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.getFollowings(e)];case 1:return n=a.sent(),r(n),[3,3];case 2:return a.sent(),f(!0),[3,3];case 3:return s(!1),[2]}}))}))}),[e]),i?c.a.createElement($e,null):m?c.a.createElement("p",{className:"txt-center txt-error mt-10"},"Something went wrong. Please try again!"):c.a.createElement("section",{className:"follow"},c.a.createElement("div",{className:"container container-sm "},c.a.createElement("h2",{className:"follow-title"},"User followings"),(null==a?void 0:a.length)?c.a.createElement(Wt,{followList:a}):c.a.createElement(c.a.Fragment,null)))}},{path:"/:id/follower",element:function(){var e=Object(je.useParams)().id,t=new Bt,n=Object(l.useState)(null),a=n[0],r=n[1],o=Object(l.useState)(!1),i=o[0],s=o[1],u=Object(l.useState)(!1),m=u[0],f=u[1];return Object(l.useEffect)((function(){s(!0),f(!1),function(e,t,n,a){new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var n;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,t.getFollowers(e)];case 1:return n=a.sent(),r(n),[3,3];case 2:return a.sent(),f(!0),[3,3];case 3:return s(!1),[2]}}))}))}),[e]),i?c.a.createElement($e,null):m?c.a.createElement("p",{className:"txt-center txt-error mt-10"},"Something went wrong. Please try again!"):c.a.createElement("section",{className:"follow"},c.a.createElement("div",{className:"container container-sm "},c.a.createElement("h2",{className:"follow-title"},"User followers"),(null==a?void 0:a.length)?c.a.createElement(Wt,{followList:a}):c.a.createElement(c.a.Fragment,null)))}}],isProtected:!0}],nn=[{path:"/draft",element:function(){var e=new De,t=Object(l.useState)(null),n=t[0],a=t[1],r=Object(l.useState)(!1),o=r[0],i=r[1],s=Object(l.useState)(!1),u=s[0],m=s[1];return Object(l.useEffect)((function(){i(!0),m(!1),function(e,t,n,a){new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.getDraft()];case 1:return t=n.sent(),a(t),[3,3];case 2:return n.sent(),m(!0),[3,3];case 3:return i(!1),[2]}}))}))}),[]),o?c.a.createElement($e,null):u?c.a.createElement("p",{className:"txt-center txt-error mt-10"},"Something went wrong. Please try again!"):c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(Qt,{isReaction:!1,articlesList:n,heading:"Personal Drafts",message:"No drafts to show"}))},isProtected:!0}],an=[{path:"/bookmarks",element:function(){var e=new zt,t=Object(l.useState)(null),n=t[0],a=t[1],r=Object(l.useState)(!1),o=r[0],i=r[1],s=Object(l.useState)(!1),u=s[0],m=s[1];return Object(l.useEffect)((function(){i(!0),m(!1),function(e,t,n,a){new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){var t,n;return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.getBookmarks()];case 1:return t=r.sent(),n=t.filter((function(e){return e.post})).map((function(e){return e.post})),a(n),[3,3];case 2:return r.sent(),m(!0),[3,3];case 3:return i(!1),[2]}}))}))}),[]),o?c.a.createElement($e,null):u?c.a.createElement("p",{className:"txt-center txt-error mt-10"},"Something went wrong. Please try again!"):c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(Qt,{isReaction:!0,articlesList:n,heading:"Personal Bookmarks",message:"No bookmarks to show"}))},isProtected:!0}],rn=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))},on=function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},ln=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},cn=[{path:"/recyclebin",element:function(){var e=new De,t=Object(l.useState)([]),n=t[0],a=t[1],r=Object(l.useState)(!1),o=r[0],i=r[1],s=Object(l.useState)(!1),u=s[0],m=s[1],f=Object(l.useState)(!1),p=f[0],d=f[1],h=Object(l.useState)(!1),b=h[0],v=h[1],g=Object(l.useState)(1),y=g[0],E=g[1];return Object(l.useEffect)((function(){m(!0),v(!1),rn(void 0,void 0,void 0,(function(){var t;return on(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.getRecyclebin({page:y,size:6})];case 1:return t=n.sent(),a(ln([],t.data,!0)),[3,3];case 2:return n.sent(),v(!0),[3,3];case 3:return m(!1),[2]}}))}))}),[]),Object(l.useEffect)((function(){i(!0),v(!1),rn(void 0,void 0,void 0,(function(){var t;return on(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e.getRecyclebin({page:y,size:6})];case 1:return t=r.sent(),a(ln(ln([],n,!0),t.data,!0)),d(t.loadMore&&t.totalPage!==t.currentPage),[3,3];case 2:return r.sent(),v(!0),[3,3];case 3:return i(!1),[2]}}))}))}),[y]),u?c.a.createElement($e,null):b?c.a.createElement("p",{className:"txt-center txt-error mt-10"},"Something went wrong. Please try again!"):c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(Qt,{isReaction:!1,articlesList:n,heading:"Recyclebin",message:"No deleted post to show",parentCallback:function(e){E(e),i(!0)},page:y,loading:o,isLoadMore:p}))},isProtected:!0}],sn=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},un=[{path:"/",element:function(){return c.a.createElement("div",{className:"pages-container"},c.a.createElement(je.Outlet,null))},children:sn(sn(sn(sn(sn(sn(sn([],Xe,!0),Re,!0),tn,!0),Vt,!0),nn,!0),an,!0),cn,!0)}],mn=function(e,t,n){if(n||2===arguments.length)for(var a,r=0,o=t.length;r<o;r++)!a&&r in t||(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))},fn=mn(mn([],Pe,!0),un,!0),pn=function(e,t){return function(n,a){var r;void 0===n&&(n=t);var o=a.type,l=a.payload;return(null!==(r=e[o])&&void 0!==r?r:e.__default__)(n,l)}},dn=function(){return(dn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},hn=pn(((r={})[v]=function(e,t){return dn(dn({},e),{isLoading:!1,hasError:!1,error:null,data:t})},r[b]=function(e){return dn(dn({},e),{isLoading:!0,hasError:!1,error:null})},r[g]=function(e,t){return dn(dn({},e),{isLoading:!1,hasError:!0,error:t})},r[y]=function(e){return dn(dn({},e),{isLoading:!1,isProcessing:!1,hasError:!1,data:null,error:null})},r.__default__=function(e){return e},r),{isLoading:!1,isProcessing:!1,hasError:!1,data:null,error:null}),bn=function(){return(bn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},vn=pn(((o={})[E]=function(e,t){return bn(bn({},e),{data:t})},o[w]=function(e){return bn(bn({},e),{isLoading:!0,hasError:!1,error:null})},o[N]=function(e,t){return bn(bn({},e),{isLoading:!1,isSuccess:!0,hasError:!1,error:null,data:t})},o[k]=function(e,t){return bn(bn({},e),{isLoading:!1,hasError:!0,error:t})},o[x]=function(e){return bn(bn({},e),{isLoading:!1,isSuccess:!1,hasError:!1,error:null})},o[O]=function(e){return bn(bn({},e),{isLoading:!1,isSuccess:!1,hasError:!1,data:null,error:null})},o.__default__=function(e){return e},o),{isLoading:!1,isSuccess:!1,hasError:!1,data:null,error:null}),gn=Object(m.combineReducers)({authReducer:hn,accountReducer:vn}),yn=function(e){var t,n,a=Object(l.useContext)(Le).hideNotification,r=(null===(t=e.notification)||void 0===t?void 0:t.isSuccess)?"success":"error";return Object(l.useEffect)((function(){setTimeout((function(){a()}),4e3)})),e.notification?c.a.createElement("div",{className:"notification"},c.a.createElement("p",{className:"notification-text "+r},null===(n=e.notification)||void 0===n?void 0:n.message)):c.a.createElement(c.a.Fragment,null)},En=Object(m.createStore)(gn,Object(m.applyMiddleware)(p.a,d.logger));i.render(c.a.createElement(u.Provider,{store:En},c.a.createElement(s.BrowserRouter,null,c.a.createElement((function(e){var t=e.children,n=Object(l.useState)(null),a=n[0],r=n[1],o={showNotification:function(e){r({isSuccess:e.isSuccess,message:e.message})},hideNotification:function(){r(null)}};return c.a.createElement(Le.Provider,{value:o},c.a.createElement(yn,{notification:a}),t)}),null,c.a.createElement((function(){var e=Object(u.useDispatch)(),t=Object(l.useState)(!0),n=t[0],a=t[1],r=window.location.search,o=new URLSearchParams(r).get("accessToken");return Object(l.useEffect)((function(){!function(e,t,n,a){new(n||(n=Promise))((function(r,o){function l(e){try{i(a.next(e))}catch(e){o(e)}}function c(e){try{i(a.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}i((a=a.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function(){return function(e,t){var n,a,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,a=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}(this,(function(t){switch(t.label){case 0:return o?(window.history.pushState({},document.title,""),[4,e((n=o,function(e){return se(void 0,void 0,void 0,(function(){return ue(this,(function(t){try{me.setToken(n)}catch(t){e(be(t.response.data))}return[2]}))}))}))]):[3,2];case 1:t.sent(),t.label=2;case 2:return[4,e((function(e){return se(void 0,void 0,void 0,(function(){var t;return ue(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e(de()),[4,fe.getPersonalInfo()];case 1:return t=n.sent(),e(he({accessToken:me.getToken(),userInfo:t})),e(ee(t)),[3,3];case 2:return n.sent(),e(ve()),[3,3];case 3:return[2]}}))}))}))];case 3:return t.sent(),a(!1),[2]}var n}))}))}),[]),n?c.a.createElement($e,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(ye,null),c.a.createElement(Ne,{routes:fn}),c.a.createElement(Ee,null))}),null)))),document.getElementById("root"))}});